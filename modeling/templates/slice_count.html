<!DOCTYPE html>
<html>
	<head>
		{% load staticfiles %}
		<meta charset="utf-8" />
		<link rel="stylesheet" href="{% static "slice.css" %}"  />
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
		<script src="{% static "slice.js" %}"></script>
		<script language="javascript">
			window.addEventListener('load',doFirst,false);
			$(document).mousemove(function (e) {
				x.value = e.pageX + document.documentElement.scrollTop;
				y.value = e.pageY + document.documentElement.scrollLeft;
			});
			//document.onmousemove = getMouse;
		</script>
		<title>WorldMap</title>
	</head>
	<body>
		<div id="showPuzzle"></div>
		<br>
		<input name="send" type="button" value="Send!" onClick="calSum(array)">
		<br>
			X:<input type="text" id="x" size="4"><br>
			Y:<input type="text" id="y" size="4">
		<img src="{% static "images/WorldMap.png" %}" id="puzzleImg"/>
		<form id="form1" method="POST" action="/location_detail">
			<input type="hidden" name="locations" id="locations" value="">
			{% csrf_token %}
		</form>
		<script>
			$.getJSON( "/static/data3.json", function( data ) {
				var items = [];
				$.each( data, function( key, val ) {
    				//items.push( "<li id='" + key + "'>" + val + "</li>" );
    				if(val<100)
    					$('#showPuzzle span').eq(parseInt(key)).append('<div style="width:16px;height:16px;background:#00F;opacity:0.5"></div>');
    				else if(val<500)
    					$('#showPuzzle span').eq(parseInt(key)).append('<div style="width:16px;height:16px;background:#0F0;opacity:0.5"></div>');
    				else
    					$('#showPuzzle span').eq(parseInt(key)).append('<div style="width:16px;height:16px;background:#F00;opacity:0.5"></div>');
  				});
			});
		</script>
	</body>
</html>